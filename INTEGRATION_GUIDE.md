# üöÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ EngCard —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. **–û–±–Ω–æ–≤–ª–µ–Ω—ã Stores (Effector)**
- **`src/store/topics.ts`** - —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–µ–º—ã –∏–∑ API
- **`src/store/words.ts`** - —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ª–æ–≤–∞ –∏–∑ API
- –î–æ–±–∞–≤–ª–µ–Ω—ã —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å fallback –¥–∞–Ω–Ω—ã–º–∏

### 2. **–û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
- **`DashboardScreen`** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤ –≤ –∫–∞–∂–¥–æ–π —Ç–µ–º–µ
- **`WordCardScreen`** - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é –∏ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç **`LoadingSpinner`** –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏

### 3. **–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç**
- **`test-api.js`** - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã API

## üõ†Ô∏è –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
psql -U postgres

# 2. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE engcard_db;

# 3. –í—ã—Ö–æ–¥ –∏–∑ psql
\q

# 4. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü
psql -U postgres -d engcard_db -f database/create_complete_database.sql
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=engcard_db
DB_USER=postgres
DB_PASSWORD=your_password
DATABASE_URL=postgresql://postgres:your_password@localhost:5432/engcard_db

# Server Configuration
PORT=3001
NODE_ENV=development

# CORS Configuration
CORS_ORIGIN=http://localhost:5173
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ —Å API
npm run server
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:3001`

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
node test-api.js
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API EngCard...

1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–µ—Ä–∞...
‚úÖ –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç: OK

2. –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–º...
‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ —Ç–µ–º: 6
   - music (5 —Å–ª–æ–≤)
   - cinema (5 —Å–ª–æ–≤)
   - travel (5 —Å–ª–æ–≤)
   - animals (5 —Å–ª–æ–≤)
   - hobby (5 —Å–ª–æ–≤)
   - weather (5 —Å–ª–æ–≤)

3. –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö —Å–ª–æ–≤...
‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ —Å–ª–æ–≤: 25

4. –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ª–æ–≤ –ø–æ —Ç–µ–º–µ "music"...
‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ —Å–ª–æ–≤ –¥–ª—è —Ç–µ–º—ã "music": 5
   - –º—É–∑—ã–∫–∞ ‚Üí music
   - –ø–µ—Å–Ω—è ‚Üí song
   - –≥–∏—Ç–∞—Ä–∞ ‚Üí guitar

5. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...
‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω: –¢–µ—Å—Ç –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (ID: 1)

üéâ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ!
```

### –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:5173`

## üéØ –ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ

### Dashboard (–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
- **–¢–µ–º—ã —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å–ª–æ–≤** - –∫–∞–∂–¥–∞—è —Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ª–æ–≤
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏** - –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ API
- **Fallback –¥–∞–Ω–Ω—ã–µ** - –µ—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### Word Cards (–ö–∞—Ä—Ç–æ—á–∫–∏ —Å–ª–æ–≤)
- **–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è** - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –ª–∏—Ü–µ–≤–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –∫–∞—Ä—Ç–æ—á–∫–∏
- **–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π** - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏** - –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–ª–æ–≤ –ø–æ —Ç–µ–º–µ

## üîß API Endpoints

### –¢–µ–º—ã
- `GET /api/topics` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–µ–º—ã
- `GET /api/topics/:id` - –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–º—É –ø–æ ID

### –°–ª–æ–≤–∞
- `GET /api/words` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–ª–æ–≤–∞
- `GET /api/words/topic/:topicId` - –ø–æ–ª—É—á–∏—Ç—å —Å–ª–æ–≤–∞ –ø–æ —Ç–µ–º–µ
- `GET /api/words/:id` - –ø–æ–ª—É—á–∏—Ç—å —Å–ª–æ–≤–æ –ø–æ ID

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `GET /api/users` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `POST /api/users` - —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/users/:id` - –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID

### –ü—Ä–æ–≥—Ä–µ—Å—Å
- `GET /api/progress/user/:userId` - –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/progress` - —Å–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å

### –°–µ—Å—Å–∏–∏
- `GET /api/sessions/user/:userId` - –ø–æ–ª—É—á–∏—Ç—å —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/sessions` - —Å–æ–∑–¥–∞—Ç—å —Å–µ—Å—Å–∏—é

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ "Failed to load topics"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
curl http://localhost:3001/health

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
psql -U postgres -d engcard_db -c "SELECT COUNT(*) FROM topics;"
```

### –û—à–∏–±–∫–∞ "Database connection failed"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ .env
cat .env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω
pg_ctl status

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
psql -U postgres -l | grep engcard_db
```

### –û—à–∏–±–∫–∞ "CORS policy"
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ CORS_ORIGIN –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
echo $CORS_ORIGIN

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—Ç—É
npm run dev
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–µ–º—ã (topics)
```json
{
  "id": "music",
  "name": "music",
  "icon": "üéß",
  "emoji": "üéµ",
  "description": "–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è —Ç–µ–º–∞—Ç–∏–∫–∞",
  "color": "#28a745",
  "words_count": 5
}
```

### –°–ª–æ–≤–∞ (words)
```json
{
  "id": "music-1",
  "russian": "–º—É–∑—ã–∫–∞",
  "english": "music",
  "topic_id": "music",
  "difficulty_level": 1,
  "pronunciation": "[ÀàmjuÀêz…™k]",
  "example_sentence": "I love listening to music.",
  "usage_frequency": 5
}
```

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–î–æ–±–∞–≤—å—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** - –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
2. **–†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑—É—á–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤
3. **–î–æ–±–∞–≤—å—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É** - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏–∑—É—á–µ–Ω–∏—è
4. **–°–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
5. **–î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã** - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
psql -U postgres -d engcard_db -c "SELECT '–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç!' as status;"

# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü
psql -U postgres -d engcard_db -c "\dt"

# –ü–æ–¥—Å—á–µ—Ç –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö
psql -U postgres -d engcard_db -c "
SELECT 'topics' as table_name, COUNT(*) as count FROM topics
UNION ALL
SELECT 'words', COUNT(*) FROM words
UNION ALL
SELECT 'users', COUNT(*) FROM users;"

# –û—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
psql -U postgres -d engcard_db -c "DROP SCHEMA public CASCADE; CREATE SCHEMA public;"
```

---

**–ì–æ—Ç–æ–≤–æ!** üéâ –í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!
